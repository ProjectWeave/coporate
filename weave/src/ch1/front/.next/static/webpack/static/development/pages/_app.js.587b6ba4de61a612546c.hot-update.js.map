{"version":3,"file":"static/webpack/static\\development\\pages\\_app.js.587b6ba4de61a612546c.hot-update.js","sources":["webpack:///./components/AppLayout.js","webpack:///./components/Login.js","webpack:///./pages/_app.js"],"sourcesContent":["import React from 'react';\r\nimport Link from 'next/link';\r\nimport PropTypes from 'prop-types';\r\nimport { useSelector } from 'react-redux';\r\nimport Router from 'next/router';\r\n\r\nimport Header from './Header';\r\nimport Menu from './Menu';\r\nimport Home from './Home';\r\nimport IndexPage from './IndexPage';\r\nimport './Header.css';\r\nimport Head from 'next/head';\r\nimport Login from './Login';\r\nimport './Grid.css';\r\n\r\nconst AppLayout = ({children}) => {\r\n    const { isLoggedIn } = useSelector(state => state.user);\r\n    if(!isLoggedIn)return<><Home /></>\r\n    // if(!isLoggedIn && )\r\n    return (\r\n        <>\r\n            <Header />\r\n            <Menu />\r\n            <div className=\"col-12\">\r\n                {children}\r\n                    \r\n                {/* { isLoggedIn ? <IndexPage /> : <Home /> }       */}\r\n                {/* 로그인에 성공하면 인덱스페이지로 안했으면 홈으로 */}\r\n                {/* {children} */}\r\n            </div>\r\n        </>\r\n    );\r\n};\r\n\r\nAppLayout.propTypes={\r\n    children:PropTypes.node,\r\n};\r\n\r\nexport default AppLayout;\r\n\r\n\r\n// 참고코드\r\n// useEffect(() => {\r\n//     if (me) {\r\n//       alert('로그인했으니 메인페이지로 이동합니다.');\r\n//       Router.push('/');\r\n//     }\r\n//   }, [me && me.id]);","import React,{ useCallback } from 'react';\r\nimport Link from 'next/link';\r\nimport { useDispatch, useSelector } from 'react-redux';\r\nimport { useInput } from '../pages/Join';\r\nimport { LOG_IN_REQUEST } from '../reducers/user';\r\nimport Router from 'next/router';\r\nimport IndexPage from './IndexPage';\r\n\r\n\r\nconst Login = () => {\r\n  const [id, onChangeId] = useInput();\r\n  const [password, onChangePassword] = useInput();\r\n  const { isLoggingIn } = useSelector(state => state.user);\r\n  const dispatch = useDispatch();\r\n  \r\n  const onSubmitForm = useCallback((e) => {\r\n    e.preventDefault();\r\n    dispatch({\r\n        type: LOG_IN_REQUEST,\r\n        data: {\r\n            id, password,\r\n        },\r\n    });\r\n  },[id, password]);\r\n\r\n  const onChangePage =((e) => {\r\n      alert('회원가입페이지로 이동합니다.');\r\n      Router.push(\"/join\");\r\n      return (\r\n        <div>\r\n          회원가입\r\n        </div>\r\n      );\r\n  });\r\n    \r\n\r\n  return (\r\n    <div>\r\n      <article className=\"rLg\">\r\n        <div className=\"logo\"></div>\r\n        <div className=\"lg\">\r\n          <h2 className=\"bld\">로그인</h2>\r\n          <form \r\n            className=\"lgform\" action=\"create_process\" method=\"post\"\r\n            onSubmit={onSubmitForm}\r\n          >\r\n              <div className=\"lg_title\">지금 바로 가입하세요!</div>\r\n              <div>\r\n                <label htmlFor=\"user-id\" className=\"bld\">아이디</label>\r\n                <input name=\"user-id\" value={id} onChange={onChangeId} placeholder=\"아이디를 입력하세요.\" className=\"tbox\" required />\r\n                <label htmlFor=\"user-password\" value={password} onChange={onChangePassword} className=\"bld\">비밀번호</label>\r\n                <input name=\"user-pasword\" type=\"password\" placeholder=\"비밀번호를 입력하세요.\" className=\"tbox\" required />\r\n              </div>\r\n              <div className=\"btngroup\">\r\n                <button htmlType=\"submit\" className=\"btn\" loading={isLoggingIn}>로그인</button>\r\n                <button className=\"btn\" onClick={onChangePage}>회원가입</button>\r\n              </div>\r\n            </form>\r\n          </div>\r\n      </article>\r\n    </div>\r\n  );\r\n};\r\n\r\nexport default Login;\r\n","import React from 'react';\r\nimport PropTypes from 'prop-types';\r\n\r\nimport withRedux from 'next-redux-wrapper';\r\nimport { applyMiddleware, compose, createStore } from 'redux';\r\nimport { Provider } from 'react-redux';\r\nimport createSagaMiddleware from 'redux-saga';\r\nimport reducer from '../reducers';\r\nimport rootSaga from '../sagas';\r\n\r\nimport AppLayout from '../components/AppLayout';\r\nimport { LOG_IN_SUCCESS } from '../reducers/user';\r\nimport Home from '../components/Home';\r\n\r\n\r\nconst Weave = ({Component, store}) => {\r\n    // if(LOG_IN_SUCCESS)\r\n    return (\r\n        <Provider store={store}>\r\n                <AppLayout>\r\n                    <Component />\r\n                </AppLayout>\r\n        </Provider>\r\n    );\r\n};\r\n\r\n\r\nWeave.propTypes={\r\n    Component: PropTypes.elementType.isRequired,\r\n    store : PropTypes.object.isRequired,\r\n};\r\n\r\nconst configureStore = (initialState, options) => {\r\n    const sagaMiddleware = createSagaMiddleware();\r\n    const middlewares = [sagaMiddleware];\r\n    const enhancer = process.env.NODE_ENV === 'production'\r\n      ? compose(applyMiddleware(...middlewares))\r\n      : compose(\r\n        applyMiddleware(...middlewares),\r\n        !options.isServer && typeof window.__REDUX_DEVTOOLS_EXTENSION__ !== 'undefined' ? window.__REDUX_DEVTOOLS_EXTENSION__() : f => f,\r\n      );\r\n    const store = createStore(reducer, initialState, enhancer);\r\n    sagaMiddleware.run(rootSaga);\r\n    return store;\r\n  };\r\n  \r\n  export default withRedux(configureStore)(Weave);"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;AACA;AADA;AAIA;AAIA;AACA;AACA;AACA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;AC/CA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAAA;AADA;AAFA;AAMA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AACA;AAFA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;;;;;;;;;;;;;;;;;;;;;;;;;AChEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AACA;AAEA;AACA;AACA;AAFA;AACA;AAIA;AACA;AACA;AACA;AAMA;AACA;AACA;AACA;AACA;AACA;;;;A","sourceRoot":""}