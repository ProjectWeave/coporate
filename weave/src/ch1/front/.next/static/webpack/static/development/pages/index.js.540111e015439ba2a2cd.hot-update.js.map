{"version":3,"file":"static/webpack/static\\development\\pages\\index.js.540111e015439ba2a2cd.hot-update.js","sources":["webpack:///./components/PostForm.js"],"sourcesContent":["import React, { useCallback, useState, useEffect } from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ADD_POST_REQUEST } from '../reducers/post';\r\n\r\n//임시로만든 데이터객체\r\n// const dummy={\r\n//     isLoggedIn: true,\r\n//     imagePaths:[],\r\n//     mainPosts:[{\r\n//         User:{\r\n//             id: 1,\r\n//             nickname: \"두리안\",\r\n//         },\r\n//             content: \"첫번째 게시글\",\r\n//             img:\"https://img1.daumcdn.net/thumb/R720x0/?fname=http://t1.daumcdn.net/liveboard/dailylife/187ea4bc2ad54b1db5030743265c5397.jpg\", \r\n//     }],\r\n// };\r\n\r\nconst PostForm = () => {\r\n    const dispatch = useDispatch();\r\n    const [text, setText ] = useState('');\r\n    const { imagePaths, isAddingPost, postAdded } = useSelector(state => state.post);\r\n    \r\n    useEffect(() => {\r\n        setText('');\r\n    },[postAdded === true]);\r\n\r\n    const onSubmitForm = useCallback((e) => {\r\n        e.preventDefault();\r\n        dispatch({\r\n            type: ADD_POST_REQUEST,\r\n            data: {\r\n                text,\r\n            },\r\n        });\r\n    }, []);\r\n    \r\n    const onChangeText = useCallback((e) => {\r\n        setText(e.target.value);\r\n    }, []);\r\n    \r\n    return (\r\n        <form style={{ margin: '10px 0 20px'}} encType=\"multipart/form-data\" onSubmit={onSubmitForm}>\r\n            <input htmlType=\"textarea\" maxLength={140} placeholder=\"소식을 남겨주세요\" value={text} onChange={onChangeText}></input>\r\n            <div>\r\n                <input type=\"file\" multiple hidden></input>\r\n                <button>이미지 업로드</button>\r\n                <button style={{float:\"right\"}} htmlType=\"submit\" loading={isAddingPost}>짹짹</button>\r\n            </div>\r\n            <div>\r\n                {/* 반복문 */}\r\n                {imagePaths.map((v) => (\r\n                        <div key={v} style={{display:\"inline-block\"}}>\r\n                            <img src={`http://localhost:3065/${v}`} style={{ width:'200px'}} alt={v}></img> \r\n                            <div>\r\n                                <button>제거</button>\r\n                            </div>   \r\n                        </div>\r\n                ))}\r\n            </div>\r\n        </form>\r\n    );\r\n};\r\n\r\nexport default PostForm;"],"mappings":";;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AADA;AAFA;AAMA;AAEA;AACA;AACA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAOA;AACA;AACA;;;;A","sourceRoot":""}