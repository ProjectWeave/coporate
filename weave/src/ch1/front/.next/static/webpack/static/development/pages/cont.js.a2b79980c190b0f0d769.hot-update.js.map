{"version":3,"file":"static/webpack/static\\development\\pages\\cont.js.a2b79980c190b0f0d769.hot-update.js","sources":["webpack:///./pages/cont.js"],"sourcesContent":["// mode변경 test\r\nimport React, { useCallback, useState, useEffect }  from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ADD_POST_REQUEST,LOAD_MAIN_POSTS_REQUEST } from '../reducers/post';\r\n\r\nimport ContentForm from '../components/ContentForm';\r\nimport GroupBox from '../components/GroupBox';\r\n\r\nimport '../components/Contents.css';\r\nimport '../components/Menu.css';\r\nimport '../components/reset.css';\r\n\r\nconst Cont = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [text, setText ] = useState('');\r\n    const { isAddingPost, postAdded, mainPosts } = useSelector(state => state.post);\r\n\r\n    // 메뉴클릭시 컨텐츠 변경\r\n    const [ Mode, setMode ] = useState('read');\r\n\r\n    // 게시물 로드하기\r\n    useEffect(() => {\r\n        dispatch({\r\n          type: LOAD_MAIN_POSTS_REQUEST,\r\n        });\r\n      }, []);\r\n\r\n    const handleChangePage = (e) => {\r\n        e.preventDefault();\r\n        setMode('member');\r\n        let classa = document.querySelector(\".menu_a\")\r\n        let classm = document.querySelector(\".menu_m\")\r\n        classa.setAttribute(\"id\",\"\");\r\n        classm.setAttribute(\"id\",\"on\");\r\n    };\r\n    const handleChangePage2 = (e) => {\r\n        e.preventDefault();\r\n        setMode('read');\r\n        let classa = document.querySelector(\".menu_a\")\r\n        let classm = document.querySelector(\".menu_m\")\r\n        classa.setAttribute(\"id\",\"on\");\r\n        classm.setAttribute(\"id\",\"\");\r\n    };\r\n\r\n    \r\n    useEffect(() => {\r\n        setText('');\r\n    },[postAdded === true]);\r\n\r\n    const onSubmitForm = useCallback((e) => {\r\n        e.preventDefault();\r\n        // 빈텍스트, 스페이스바 게시물올리기 막기\r\n        if(!text || !text.trim()){\r\n            return alert('게시글을 작성하세요.');\r\n        }\r\n        dispatch({\r\n            type: ADD_POST_REQUEST,\r\n            data: {\r\n                content: text,\r\n            },  \r\n        });\r\n    }, [text]);\r\n    \r\n    \r\n    // 단일이미지 미리보기\r\n    const [img, setImg] = useState(null);\r\n    const onChangeImage = useCallback((e)=>{\r\n        console.log('파일창열리니?');\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(e.target.files[0]);\r\n        reader.onloadend = function () {\r\n            setImg(reader.result);\r\n          }\r\n    },[]);\r\n\r\n    // 소식을 남겨주세요부분 텍스트입력\r\n    const onChangeText = useCallback((e) => {\r\n        setText(e.target.value);\r\n    }, []);\r\n\r\n    if(Mode==='member'){\r\n        return(\r\n        <>\r\n         <div className=\"top\">\r\n                <ul className=\"menubox\">\r\n                    <li className=\"menu_a\" id=\"on\" onClick={handleChangePage2}>전체글</li>\r\n                    <li className=\"menu_m\"  onClick={handleChangePage}>멤버</li>\r\n                </ul>           \r\n            </div>\r\n            <div className=\"wrap\">\r\n                {/* <div className=\"groupinfo\">\r\n                    <div className=\"groupimg\"></div>\r\n                    <div className=\"grouptext\">\r\n                        <h1>댕댕이집사 그룹</h1>\r\n                        <p className=\"numMem\">Member. 43</p>\r\n                        <p>세젤예 댕댕이들 모여라~!</p>\r\n                        <nav className=\"groupSubmitBtn\">\r\n                            <button className=\"gjoin\">가입하기</button>\r\n                            <button className=\"gout\">그룹탈퇴</button>\r\n                        </nav>\r\n                    </div>\r\n                </div> */}\r\n                <GroupBox />\r\n               \r\n                <div className=\"memberbox\">\r\n                    멤버목록\r\n                </div>\r\n            </div>\r\n        </>\r\n        );\r\n      };\r\n\r\n    if(Mode==='read')\r\n    return (\r\n        <>\r\n            <div className=\"top\">\r\n                <ul className=\"menubox\">\r\n                    <li className=\"menu_a\" id=\"on\" onClick={handleChangePage2}>전체글</li>\r\n                    <li className=\"menu_m\"  onClick={handleChangePage}>멤버</li>\r\n                </ul>           \r\n            </div>\r\n            <div className=\"wrap\">\r\n                <GroupBox />\r\n                \r\n                <form className=\"uploadTb\" encType=\"multipart/form-data\" onSubmit={onSubmitForm}>\r\n                    <div className='row1'>\r\n                        <img src={img} style={{ width: '50%' }} />\r\n                        <textarea maxLength={1500} placeholder=\"소식을 남겨주세요\"\r\n                                  className=\"tarea\" value={text} onChange={onChangeText} >\r\n                                       \r\n                        </textarea>\r\n                    </div>\r\n                    <div className='row2'>\r\n                        <div class=\"fileBox\" >\r\n                            <label for=\"uploadBtn_0\" className=\"btn_file\" > </label>\r\n                            <input type=\"file\" id=\"uploadBtn_0\" className=\"uploadBtn\" \r\n                                onChange={onChangeImage} accept=\".jpg, .jpeg, .png\" />\r\n                        </div>\r\n                        <div class=\"fileBox\" >\r\n                            <label for=\"uploadBtn_1\" className=\"btn_file\" > </label>\r\n                            <input type=\"file\" id=\"uploadBtn_1\" className=\"uploadBtn\" \r\n                                onChange={onChangeImage} accept=\".mp4, .wmv, .avi\"  />\r\n                        </div>\r\n                        <div class=\"fileBox\" >\r\n                            <label for=\"uploadBtn_2\" className=\"btn_file\" > </label>\r\n                            <input type=\"file\" id=\"uploadBtn_2\" className=\"uploadBtn\" \r\n                                onChange={onChangeImage} accept=\".txt\" hidden />\r\n                        </div>\r\n                    \r\n                        <div className=\"icon04\">\r\n                            <label for=\"file-input\"></label>\r\n                            <input type=\"submit\" value=\"\" loading={isAddingPost} />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                {/* 게시물올라가는부분 */}\r\n                <div className=\"letsbegin\">\r\n                    <div className=\"startT\">그룹에 재미있는 이야기를 써보세요.</div>\r\n                    <div>\r\n                        {mainPosts.map((v)=>{\r\n                            return(\r\n                                <ContentForm key={v} post={v} />\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    {/* 더보기버튼 */}\r\n                    <button className=\"more\">더보기</button>\r\n                </div>\r\n                \r\n                \r\n            </div>\r\n           \r\n            \r\n        </>\r\n    );\r\n};\r\n\r\nexport default Cont;"],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;AAAA;AACA;AACA;AACA;AAEA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AACA;AAEA;AAAA;AAAA;AAAA;AACA;AAEA;AACA;AACA;AADA;AAGA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AADA;AAFA;AAMA;AACA;AAGA;AAAA;AAAA;AAAA;AACA;AACA;AACA;AACA;AACA;AAAA;AACA;AACA;AACA;AACA;AAEA;AACA;AACA;AACA;AACA;AACA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAaA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAMA;AACA;AADA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AACA;AAAA;AAAA;AADA;AAAA;AAAA;AAAA;AAAA;AAAA;AAIA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAKA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AACA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAEA;AAGA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AASA;AACA;AACA;;;;A","sourceRoot":""}