{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC774\\uADC0\\uC601\\\\Documents\\\\coporate\\\\weave\\\\src\\\\ch1\\\\front\\\\components\\\\File.js\";\nvar __jsx = React.createElement;\n//import React from 'react';\nimport React, { useCallback, useState, useEffect } from 'react';\nimport axios from 'axios';\nimport PostForm from './PostForm';\nimport '../routes/Templete.css';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ADD_GROUP_REQUEST } from '../reducers/post';\n\nconst File = () => {\n  const dispatch = useDispatch();\n  const {\n    0: text,\n    1: setText\n  } = useState('');\n  const {\n    0: file,\n    1: setFile\n  } = useState(null);\n  const {\n    0: selctedFile,\n    1: setSelctedFile\n  } = useState(null);\n  const {\n    imagePaths,\n    addingGroupPost,\n    addedGroupPost\n  } = useSelector(state => state.post);\n  useEffect(() => {\n    setText('');\n  }, [addedGroupPost === true]);\n  const onSubmitGroup = useCallback(e => {\n    e.preventDefault();\n    dispatch({\n      type: ADD_GROUP_REQUEST,\n      data: {\n        text\n      }\n    });\n  }, []);\n\n  const handleChange = event => {\n    setFile({\n      file: URL.createObjectURL(event.target.files[0])\n    });\n  };\n\n  const fileUpSelcetedHandler = event => {\n    //console.log(event.target.file);\n    setSelctedFile({\n      selctedFile: event.target.file[0]\n    });\n  };\n\n  const fileUploadHandler = () => {\n    axios.post('');\n  };\n\n  return __jsx(\"form\", {\n    className: \"pop\",\n    onSubmit: onSubmitGroup,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 50\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"gimg\",\n    onClick: file,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 51\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: setFile,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 52\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"filebox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 54\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 55\n    },\n    __self: this\n  }, \"\\uC0AC\\uC9C4\\uC744 \\uC120\\uD0DD\\uD574\\uC8FC\\uC138\\uC694.\"), __jsx(\"input\", {\n    type: \"file\",\n    id: \"file\",\n    name: \"file\",\n    size: \"2000\",\n    accept: \".jpg, .jpeg, .png\",\n    className: \"upload\",\n    value: \"\",\n    onChange: handleChange,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 56\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 60\n    },\n    __self: this\n  }, imagePaths.map(v => __jsx(\"div\", {\n    key: v,\n    style: {\n      display: \"inline-block\"\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 63\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: `http://localhost:3065/${v}`,\n    style: {\n      width: '200px'\n    },\n    alt: v,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 64\n    },\n    __self: this\n  })))), __jsx(\"div\", {\n    className: \"group\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 69\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    htmlFor: \"name\",\n    className: \"gtit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 70\n    },\n    __self: this\n  }, \" \\uADF8\\uB8F9\\uC774\\uB984\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"gname\",\n    className: \"gname\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 71\n    },\n    __self: this\n  }), __jsx(\"label\", {\n    htmlFor: \"name\",\n    className: \"gtit\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 72\n    },\n    __self: this\n  }, \" \\uADF8\\uB8F9\\uC18C\\uAC1C\"), __jsx(\"input\", {\n    type: \"text\",\n    name: \"gintro\",\n    className: \"gintro\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 73\n    },\n    __self: this\n  }), __jsx(\"p\", {\n    className: \"send\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 74\n    },\n    __self: this\n  }, __jsx(\"input\", {\n    type: \"submit\",\n    value: \"\\uC62C\\uB9AC\\uAE30\",\n    loading: addingGroupPost,\n    onSubmit: fileUploadHandler,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 75\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"reset\",\n    value: \"\\uCDE8\\uC18C\",\n    onClick: function () {\n      var pop = document.querySelector(\".pop\");\n      var block = document.querySelector(\".block\");\n      pop.style.display = \"none\";\n      block.style.display = \"none\";\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 78\n    },\n    __self: this\n  }))));\n};\n\nexport default File; // class File extends React.Component{\n//   constructor(props){\n//     super(props);\n//     this.state = {\n//       file: null\n//     }\n//     this.handleChange = this.handleChange.bind(this)\n//   }\n//   handleChange(event) {\n//     this.setState({\n//       file: URL.createObjectURL(event.target.files[0])\n//     })\n//   }\n//   state={\n//     selctedFile:null\n//   }\n//   fileUpSelcetedHandler=event=>{\n//     //console.log(event.target.file);\n//     this.setState({\n//       selctedFile:event.target.file[0]\n//     })\n//   }\n//   fileUploadHandler=()=>{\n//     axios.post('');\n//   }\n//   render(){\n//     return(\n//       <form className=\"pop\" onSubmit={onSubmitGroup}>\n//           <div className=\"gimg\">\n//             <img src={this.state.file}/>\n//           </div>\n//           {/* <input type=\"image\" alt=\"submit\"></input> */}\n//           <div className=\"filebox\">\n//             <label htmlFor =\"file\">사진을 선택해주세요.</label>\n//             <input type=\"file\" id=\"file\" name=\"file\" size=\"2000\" \n//                    accept=\".jpg, .jpeg, .png\" className=\"upload\"\n//                    onChange={this.handleChange} />\n//           </div>\n//           <div className=\"group\">\n//             <label htmlFor =\"name\" className=\"gtit\"> 그룹이름</label>\n//             <input type=\"text\" name=\"gname\" className=\"gname\" />\n//             <label htmlFor =\"name\" className=\"gtit\"> 그룹소개</label>\n//             <input type=\"text\" name=\"gintro\" className=\"gintro\" />\n//             <p className=\"send\">\n//               <input type=\"submit\" value=\"올리기\"\n//                      onClick={this.fileUploadHandler}\n//               />\n//               <input type=\"reset\" value=\"취소\" onClick={function(){\n//                 var pop = document.querySelector(\".pop\")\n//                 var block = document.querySelector(\".block\")\n//                 pop.style.display=\"none\"\n//                 block.style.display=\"none\"\n//               }} />\n//             </p>\n//             {this.props.children}\n//           </div>\n//         </form>\n//     );\n//   }\n// }\n//   export default File;","map":{"version":3,"sources":["C:/Users/이귀영/Documents/coporate/weave/src/ch1/front/components/File.js"],"names":["React","useCallback","useState","useEffect","axios","PostForm","useSelector","useDispatch","ADD_GROUP_REQUEST","File","dispatch","text","setText","file","setFile","selctedFile","setSelctedFile","imagePaths","addingGroupPost","addedGroupPost","state","post","onSubmitGroup","e","preventDefault","type","data","handleChange","event","URL","createObjectURL","target","files","fileUpSelcetedHandler","fileUploadHandler","map","v","display","width","pop","document","querySelector","block","style"],"mappings":"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","sourcesContent":["//import React from 'react';\r\nimport React, { useCallback, useState, useEffect } from 'react';\r\nimport axios from 'axios';\r\nimport PostForm from './PostForm';\r\nimport '../routes/Templete.css';\r\n\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport {  ADD_GROUP_REQUEST } from '../reducers/post';\r\n\r\n\r\nconst File = () => {\r\n    const dispatch = useDispatch();\r\n    const [text, setText ] = useState('');\r\n    const [file, setFile ] = useState(null);\r\n    const [selctedFile, setSelctedFile ] = useState(null);\r\n    const { imagePaths, addingGroupPost, addedGroupPost } = useSelector(state => state.post);\r\n    \r\n    useEffect(() => {\r\n        setText('');\r\n    },[addedGroupPost === true]);\r\n\r\n    const onSubmitGroup = useCallback((e) => {\r\n        e.preventDefault();\r\n        dispatch({\r\n            type: ADD_GROUP_REQUEST,\r\n            data: {\r\n                text,\r\n            },\r\n        });\r\n    }, []);\r\n\r\n    const handleChange = (event) => {\r\n      setFile({\r\n        file:URL.createObjectURL(event.target.files[0])\r\n      });\r\n    }\r\n    \r\n    const fileUpSelcetedHandler=event=>{\r\n      //console.log(event.target.file);\r\n      setSelctedFile({\r\n        selctedFile:event.target.file[0]\r\n      })\r\n    }\r\n      \r\n    const fileUploadHandler = () => {\r\n        axios.post('');\r\n    }\r\n \r\n    return (\r\n      <form className=\"pop\" onSubmit={onSubmitGroup}>\r\n        <div className=\"gimg\" onClick={file}>\r\n          <img src={setFile} />\r\n        </div>\r\n        <div className=\"filebox\">\r\n          <label htmlFor =\"file\" >사진을 선택해주세요.</label>\r\n          <input type=\"file\" id=\"file\" name=\"file\" size=\"2000\" \r\n                   accept=\".jpg, .jpeg, .png\" className=\"upload\" value=\"\"\r\n                   onChange={handleChange} />\r\n        </div>\r\n        <div>\r\n          {/* 반복문 */}\r\n          {imagePaths.map((v) => (\r\n              <div key={v} style={{display:\"inline-block\"}}>\r\n                  <img src={`http://localhost:3065/${v}`} style={{ width:'200px'}} alt={v}></img> \r\n              </div>\r\n          ))}\r\n        </div>\r\n        \r\n        <div className=\"group\">\r\n          <label htmlFor =\"name\" className=\"gtit\"> 그룹이름</label>\r\n          <input type=\"text\" name=\"gname\" className=\"gname\" />\r\n          <label htmlFor =\"name\" className=\"gtit\"> 그룹소개</label>\r\n          <input type=\"text\" name=\"gintro\" className=\"gintro\" />\r\n          <p className=\"send\">\r\n            <input type=\"submit\" value=\"올리기\" loading={addingGroupPost}\r\n                   onSubmit={fileUploadHandler}\r\n            />\r\n            <input type=\"reset\" value=\"취소\" \r\n              onClick={function(){\r\n                var pop = document.querySelector(\".pop\")\r\n                var block = document.querySelector(\".block\")\r\n                pop.style.display=\"none\"\r\n                block.style.display=\"none\"\r\n              }}/>\r\n          </p>\r\n        </div>\r\n      </form>\r\n    );\r\n};\r\nexport default File;\r\n\r\n\r\n// class File extends React.Component{\r\n//   constructor(props){\r\n//     super(props);\r\n//     this.state = {\r\n//       file: null\r\n//     }\r\n//     this.handleChange = this.handleChange.bind(this)\r\n//   }\r\n//   handleChange(event) {\r\n//     this.setState({\r\n//       file: URL.createObjectURL(event.target.files[0])\r\n//     })\r\n//   }\r\n//   state={\r\n//     selctedFile:null\r\n//   }\r\n//   fileUpSelcetedHandler=event=>{\r\n//     //console.log(event.target.file);\r\n//     this.setState({\r\n//       selctedFile:event.target.file[0]\r\n//     })\r\n//   }\r\n\r\n//   fileUploadHandler=()=>{\r\n//     axios.post('');\r\n//   }\r\n\r\n\r\n//   render(){\r\n//     return(\r\n//       <form className=\"pop\" onSubmit={onSubmitGroup}>\r\n//           <div className=\"gimg\">\r\n//             <img src={this.state.file}/>\r\n//           </div>\r\n//           {/* <input type=\"image\" alt=\"submit\"></input> */}\r\n//           <div className=\"filebox\">\r\n//             <label htmlFor =\"file\">사진을 선택해주세요.</label>\r\n//             <input type=\"file\" id=\"file\" name=\"file\" size=\"2000\" \r\n//                    accept=\".jpg, .jpeg, .png\" className=\"upload\"\r\n//                    onChange={this.handleChange} />\r\n//           </div>\r\n//           <div className=\"group\">\r\n//             <label htmlFor =\"name\" className=\"gtit\"> 그룹이름</label>\r\n//             <input type=\"text\" name=\"gname\" className=\"gname\" />\r\n//             <label htmlFor =\"name\" className=\"gtit\"> 그룹소개</label>\r\n//             <input type=\"text\" name=\"gintro\" className=\"gintro\" />\r\n//             <p className=\"send\">\r\n//               <input type=\"submit\" value=\"올리기\"\r\n//                      onClick={this.fileUploadHandler}\r\n//               />\r\n//               <input type=\"reset\" value=\"취소\" onClick={function(){\r\n//                 var pop = document.querySelector(\".pop\")\r\n//                 var block = document.querySelector(\".block\")\r\n//                 pop.style.display=\"none\"\r\n//                 block.style.display=\"none\"\r\n//               }} />\r\n//             </p>\r\n//             {this.props.children}\r\n//           </div>\r\n//         </form>\r\n//     );\r\n//   }\r\n// }\r\n\r\n//   export default File;\r\n\r\n"]},"metadata":{},"sourceType":"module"}