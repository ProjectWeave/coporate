{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\\\uC774\\uADC0\\uC601\\\\Documents\\\\coporate\\\\weave\\\\src\\\\ch1\\\\front\\\\pages\\\\Cont.js\";\nvar __jsx = React.createElement;\n// mode변경 test\nimport React, { useCallback, useState, useEffect } from 'react';\nimport { useSelector, useDispatch } from 'react-redux';\nimport { ADD_POST_REQUEST, LOAD_MAIN_POSTS_REQUEST } from '../reducers/post';\nimport ContentForm from '../components/ContentForm';\nimport GroupBox from '../components/GroupBox';\nimport '../components/Contents.css';\nimport '../components/Menu.css';\nimport '../components/reset.css';\n\nconst Cont = () => {\n  const dispatch = useDispatch();\n  const {\n    0: text,\n    1: setText\n  } = useState('');\n  const {\n    isAddingPost,\n    postAdded,\n    mainPosts\n  } = useSelector(state => state.post); // 메뉴클릭시 컨텐츠 변경\n\n  const {\n    0: Mode,\n    1: setMode\n  } = useState('read'); // 게시물 로드하기\n\n  useEffect(() => {\n    dispatch({\n      type: LOAD_MAIN_POSTS_REQUEST\n    });\n  }, []);\n\n  const handleChangePage = e => {\n    e.preventDefault();\n    setMode('member');\n    let classa = document.querySelector(\".menu_a\");\n    let classm = document.querySelector(\".menu_m\");\n    classa.setAttribute(\"id\", \"\");\n    classm.setAttribute(\"id\", \"on\");\n  };\n\n  const handleChangePage2 = e => {\n    e.preventDefault();\n    setMode('read');\n    let classa = document.querySelector(\".menu_a\");\n    let classm = document.querySelector(\".menu_m\");\n    classa.setAttribute(\"id\", \"on\");\n    classm.setAttribute(\"id\", \"\");\n  };\n\n  useEffect(() => {\n    setText('');\n  }, [postAdded === true]);\n  const onSubmitForm = useCallback(e => {\n    e.preventDefault(); // 빈텍스트, 스페이스바 게시물올리기 막기\n\n    if (!text || !text.trim()) {\n      return alert('게시글을 작성하세요.');\n    }\n\n    dispatch({\n      type: ADD_POST_REQUEST,\n      data: {\n        content: text\n      }\n    });\n  }, [text]); // 단일이미지 미리보기\n\n  const {\n    0: img,\n    1: setImg\n  } = useState(null);\n  const onChangeImage = useCallback(e => {\n    console.log('파일창열리니?');\n    var reader = new FileReader();\n    reader.readAsDataURL(e.target.files[0]);\n\n    reader.onloadend = function () {\n      setImg(reader.result);\n    };\n  }, []); // 소식을 남겨주세요부분 텍스트입력\n\n  const onChangeText = useCallback(e => {\n    setText(e.target.value);\n  }, []);\n\n  if (Mode === 'member') {\n    return __jsx(React.Fragment, null, __jsx(\"div\", {\n      className: \"top\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 85\n      },\n      __self: this\n    }, __jsx(\"ul\", {\n      className: \"menubox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 86\n      },\n      __self: this\n    }, __jsx(\"li\", {\n      className: \"menu_a\",\n      id: \"on\",\n      onClick: handleChangePage2,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 87\n      },\n      __self: this\n    }, \"\\uC804\\uCCB4\\uAE00\"), __jsx(\"li\", {\n      className: \"menu_m\",\n      onClick: handleChangePage,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 88\n      },\n      __self: this\n    }, \"\\uBA64\\uBC84\"))), __jsx(\"div\", {\n      className: \"wrap\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 91\n      },\n      __self: this\n    }, __jsx(GroupBox, {\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 104\n      },\n      __self: this\n    }), __jsx(\"div\", {\n      className: \"memberbox\",\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 106\n      },\n      __self: this\n    }, \"\\uBA64\\uBC84\\uBAA9\\uB85D\")));\n  }\n\n  ;\n  if (Mode === 'read') return __jsx(React.Fragment, null, __jsx(\"div\", {\n    className: \"top\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 117\n    },\n    __self: this\n  }, __jsx(\"ul\", {\n    className: \"menubox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 118\n    },\n    __self: this\n  }, __jsx(\"li\", {\n    className: \"menu_a\",\n    id: \"on\",\n    onClick: handleChangePage2,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 119\n    },\n    __self: this\n  }, \"\\uC804\\uCCB4\\uAE00\"), __jsx(\"li\", {\n    className: \"menu_m\",\n    onClick: handleChangePage,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120\n    },\n    __self: this\n  }, \"\\uBA64\\uBC84\"))), __jsx(\"div\", {\n    className: \"wrap\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 123\n    },\n    __self: this\n  }, __jsx(GroupBox, {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 124\n    },\n    __self: this\n  }), __jsx(\"form\", {\n    className: \"uploadTb\",\n    encType: \"multipart/form-data\",\n    onSubmit: onSubmitForm,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 126\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"row1\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 127\n    },\n    __self: this\n  }, __jsx(\"img\", {\n    src: img,\n    style: {\n      width: '50%'\n    },\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 128\n    },\n    __self: this\n  }), __jsx(\"textarea\", {\n    maxLength: 1500,\n    placeholder: \"\\uC18C\\uC2DD\\uC744 \\uB0A8\\uACA8\\uC8FC\\uC138\\uC694\",\n    className: \"tarea\",\n    value: text,\n    onChange: onChangeText,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 129\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"row2\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    class: \"fileBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    for: \"uploadBtn_0\",\n    className: \"btn_file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136\n    },\n    __self: this\n  }, \" \"), __jsx(\"input\", {\n    type: \"file\",\n    id: \"uploadBtn_0\",\n    className: \"uploadBtn\",\n    onChange: onChangeImage,\n    accept: \".jpg, .jpeg, .png\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    class: \"fileBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 140\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    for: \"uploadBtn_1\",\n    className: \"btn_file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 141\n    },\n    __self: this\n  }, \" \"), __jsx(\"input\", {\n    type: \"file\",\n    id: \"uploadBtn_1\",\n    className: \"uploadBtn\",\n    onChange: onChangeImage,\n    accept: \".mp4, .wmv, .avi\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 142\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    class: \"fileBox\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 145\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    for: \"uploadBtn_2\",\n    className: \"btn_file\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 146\n    },\n    __self: this\n  }, \" \"), __jsx(\"input\", {\n    type: \"file\",\n    id: \"uploadBtn_2\",\n    className: \"uploadBtn\",\n    onChange: onChangeImage,\n    accept: \".txt\",\n    hidden: true,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 147\n    },\n    __self: this\n  })), __jsx(\"div\", {\n    className: \"icon04\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 151\n    },\n    __self: this\n  }, __jsx(\"label\", {\n    for: \"file-input\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 152\n    },\n    __self: this\n  }), __jsx(\"input\", {\n    type: \"submit\",\n    value: \"\",\n    loading: isAddingPost,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 153\n    },\n    __self: this\n  })))), __jsx(\"div\", {\n    className: \"letsbegin\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 158\n    },\n    __self: this\n  }, __jsx(\"div\", {\n    className: \"startT\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 159\n    },\n    __self: this\n  }, \"\\uADF8\\uB8F9\\uC5D0 \\uC7AC\\uBBF8\\uC788\\uB294 \\uC774\\uC57C\\uAE30\\uB97C \\uC368\\uBCF4\\uC138\\uC694.\"), __jsx(\"div\", {\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 160\n    },\n    __self: this\n  }, mainPosts.map(i => {\n    return __jsx(ContentForm, {\n      key: i,\n      post: i,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163\n      },\n      __self: this\n    });\n  })), __jsx(\"button\", {\n    className: \"more\",\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 168\n    },\n    __self: this\n  }, \"\\uB354\\uBCF4\\uAE30\"))));\n};\n\nexport default Cont;","map":{"version":3,"sources":["C:/Users/이귀영/Documents/coporate/weave/src/ch1/front/pages/Cont.js"],"names":["React","useCallback","useState","useEffect","useSelector","useDispatch","ADD_POST_REQUEST","LOAD_MAIN_POSTS_REQUEST","ContentForm","GroupBox","Cont","dispatch","text","setText","isAddingPost","postAdded","mainPosts","state","post","Mode","setMode","type","handleChangePage","e","preventDefault","classa","document","querySelector","classm","setAttribute","handleChangePage2","onSubmitForm","trim","alert","data","content","img","setImg","onChangeImage","console","log","reader","FileReader","readAsDataURL","target","files","onloadend","result","onChangeText","value","width","map","i"],"mappings":"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","sourcesContent":["// mode변경 test\r\nimport React, { useCallback, useState, useEffect }  from 'react';\r\nimport { useSelector, useDispatch } from 'react-redux';\r\nimport { ADD_POST_REQUEST,LOAD_MAIN_POSTS_REQUEST } from '../reducers/post';\r\n\r\nimport ContentForm from '../components/ContentForm';\r\nimport GroupBox from '../components/GroupBox';\r\n\r\nimport '../components/Contents.css';\r\nimport '../components/Menu.css';\r\nimport '../components/reset.css';\r\n\r\nconst Cont = () => {\r\n    const dispatch = useDispatch();\r\n\r\n    const [text, setText ] = useState('');\r\n    const { isAddingPost, postAdded, mainPosts } = useSelector(state => state.post);\r\n\r\n    // 메뉴클릭시 컨텐츠 변경\r\n    const [ Mode, setMode ] = useState('read');\r\n\r\n    // 게시물 로드하기\r\n    useEffect(() => {\r\n        dispatch({\r\n          type: LOAD_MAIN_POSTS_REQUEST,\r\n        });\r\n      }, []);\r\n\r\n    const handleChangePage = (e) => {\r\n        e.preventDefault();\r\n        setMode('member');\r\n        let classa = document.querySelector(\".menu_a\")\r\n        let classm = document.querySelector(\".menu_m\")\r\n        classa.setAttribute(\"id\",\"\");\r\n        classm.setAttribute(\"id\",\"on\");\r\n    };\r\n    const handleChangePage2 = (e) => {\r\n        e.preventDefault();\r\n        setMode('read');\r\n        let classa = document.querySelector(\".menu_a\")\r\n        let classm = document.querySelector(\".menu_m\")\r\n        classa.setAttribute(\"id\",\"on\");\r\n        classm.setAttribute(\"id\",\"\");\r\n    };\r\n\r\n    \r\n    useEffect(() => {\r\n        setText('');\r\n    },[postAdded === true]);\r\n\r\n    const onSubmitForm = useCallback((e) => {\r\n        e.preventDefault();\r\n        // 빈텍스트, 스페이스바 게시물올리기 막기\r\n        if(!text || !text.trim()){\r\n            return alert('게시글을 작성하세요.');\r\n        }\r\n        dispatch({\r\n            type: ADD_POST_REQUEST,\r\n            data: {\r\n                content: text,\r\n            },  \r\n        });\r\n    }, [text]);\r\n    \r\n    \r\n    // 단일이미지 미리보기\r\n    const [img, setImg] = useState(null);\r\n    const onChangeImage = useCallback((e)=>{\r\n        console.log('파일창열리니?');\r\n        var reader = new FileReader();\r\n        reader.readAsDataURL(e.target.files[0]);\r\n        reader.onloadend = function () {\r\n            setImg(reader.result);\r\n          }\r\n    },[]);\r\n\r\n    // 소식을 남겨주세요부분 텍스트입력\r\n    const onChangeText = useCallback((e) => {\r\n        setText(e.target.value);\r\n    }, []);\r\n\r\n    if(Mode==='member'){\r\n        return(\r\n        <>\r\n         <div className=\"top\">\r\n                <ul className=\"menubox\">\r\n                    <li className=\"menu_a\" id=\"on\" onClick={handleChangePage2}>전체글</li>\r\n                    <li className=\"menu_m\"  onClick={handleChangePage}>멤버</li>\r\n                </ul>           \r\n            </div>\r\n            <div className=\"wrap\">\r\n                {/* <div className=\"groupinfo\">\r\n                    <div className=\"groupimg\"></div>\r\n                    <div className=\"grouptext\">\r\n                        <h1>댕댕이집사 그룹</h1>\r\n                        <p className=\"numMem\">Member. 43</p>\r\n                        <p>세젤예 댕댕이들 모여라~!</p>\r\n                        <nav className=\"groupSubmitBtn\">\r\n                            <button className=\"gjoin\">가입하기</button>\r\n                            <button className=\"gout\">그룹탈퇴</button>\r\n                        </nav>\r\n                    </div>\r\n                </div> */}\r\n                <GroupBox />\r\n               \r\n                <div className=\"memberbox\">\r\n                    멤버목록\r\n                </div>\r\n            </div>\r\n        </>\r\n        );\r\n      };\r\n\r\n    if(Mode==='read')\r\n    return (\r\n        <>\r\n            <div className=\"top\">\r\n                <ul className=\"menubox\">\r\n                    <li className=\"menu_a\" id=\"on\" onClick={handleChangePage2}>전체글</li>\r\n                    <li className=\"menu_m\"  onClick={handleChangePage}>멤버</li>\r\n                </ul>           \r\n            </div>\r\n            <div className=\"wrap\">\r\n                <GroupBox />\r\n                \r\n                <form className=\"uploadTb\" encType=\"multipart/form-data\" onSubmit={onSubmitForm}>\r\n                    <div className='row1'>\r\n                        <img src={img} style={{ width: '50%' }} />\r\n                        <textarea maxLength={1500} placeholder=\"소식을 남겨주세요\"\r\n                                  className=\"tarea\" value={text} onChange={onChangeText} >\r\n                                       \r\n                        </textarea>\r\n                    </div>\r\n                    <div className='row2'>\r\n                        <div class=\"fileBox\" >\r\n                            <label for=\"uploadBtn_0\" className=\"btn_file\" > </label>\r\n                            <input type=\"file\" id=\"uploadBtn_0\" className=\"uploadBtn\" \r\n                                onChange={onChangeImage} accept=\".jpg, .jpeg, .png\" />\r\n                        </div>\r\n                        <div class=\"fileBox\" >\r\n                            <label for=\"uploadBtn_1\" className=\"btn_file\" > </label>\r\n                            <input type=\"file\" id=\"uploadBtn_1\" className=\"uploadBtn\" \r\n                                onChange={onChangeImage} accept=\".mp4, .wmv, .avi\"  />\r\n                        </div>\r\n                        <div class=\"fileBox\" >\r\n                            <label for=\"uploadBtn_2\" className=\"btn_file\" > </label>\r\n                            <input type=\"file\" id=\"uploadBtn_2\" className=\"uploadBtn\" \r\n                                onChange={onChangeImage} accept=\".txt\" hidden />\r\n                        </div>\r\n                    \r\n                        <div className=\"icon04\">\r\n                            <label for=\"file-input\"></label>\r\n                            <input type=\"submit\" value=\"\" loading={isAddingPost} />\r\n                        </div>\r\n                    </div>\r\n                </form>\r\n                {/* 게시물올라가는부분 */}\r\n                <div className=\"letsbegin\">\r\n                    <div className=\"startT\">그룹에 재미있는 이야기를 써보세요.</div>\r\n                    <div>\r\n                        {mainPosts.map((i)=>{\r\n                            return(\r\n                                <ContentForm key={i} post={i} />\r\n                            );\r\n                        })}\r\n                    </div>\r\n                    {/* 더보기버튼 */}\r\n                    <button className=\"more\">더보기</button>\r\n                </div>\r\n                \r\n                \r\n            </div>\r\n           \r\n            \r\n        </>\r\n    );\r\n};\r\n\r\nexport default Cont;"]},"metadata":{},"sourceType":"module"}